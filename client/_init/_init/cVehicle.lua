local lerp = math.lerp

local boxes = { -- lower, upper, radius
	{-1.23, 0.11, -1.63, 1.23, 2.29, 2.08, 2.48},
	{-1.10, 0.06, -2.85, 1.10, 1.51, 2.51, 2.99},
	{-1.14, -0.12, -1.97, 1.13, 3.19, 5.94, 4.43},
	{-1.69, 0.52, -5.49, 1.69, 4.15, 5.41, 5.99},
	{-2.17, -1.35, -6.68, 2.16, 2.69, 5.54, 6.79},
	{-1.72, -2.07, -7.36, 2.76, 14.22, 5.83, 10.72},
	{-1.17, 0.10, -2.43, 1.17, 1.86, 3.13, 3.14},
	{-0.97, 0.18, -3.28, 0.97, 1.55, 4.66, 4.14},
	{-0.85, 0.18, -1.69, 0.85, 2.20, 2.07, 2.30},
	{-1.27, 0.40, -2.69, 1.27, 2.26, 2.94, 3.23},
	{-0.70, 0.29, -1.04, 0.70, 1.09, 1.11, 1.34},
	{-1.59, -0.08, -5.84, 1.56, 4.09, 7.89, 7.35},
	{-0.99, 0.12, -1.41, 0.99, 1.38, 2.07, 2.10},
	{-3.88, 0.00, -2.71, 3.88, 3.56, 9.81, 7.58},
	{-1.03, 0.17, -1.99, 1.03, 1.56, 2.56, 2.59},
	{-1.49, -0.60, -5.24, 1.49, 4.38, 4.20, 5.54},
	{-0.00, -0.00, -0.00, 0.00, 0.00, 0.00, 0.00},
	{-1.96, 0.32, -3.94, 1.96, 2.74, 3.90, 4.55},
	{-1.72, -0.67, -7.00, 1.72, 2.94, 5.48, 6.72},
	{-2.28, -0.05, -3.07, 2.28, 2.66, 2.84, 3.97},
	{-0.26, 0.16, -0.86, 0.26, 1.33, 1.18, 1.21},
	{-0.80, 0.18, -1.40, 0.81, 2.08, 2.14, 2.16},
	{-1.13, 0.24, -2.64, 1.13, 2.20, 2.64, 3.04},
	{-6.12, 0.56, -7.33, 6.13, 3.98, 6.43, 9.37},
	{-2.91, -0.95, -8.63, 2.91, 7.91, 9.95, 10.70},
	{-1.13, 0.24, -2.65, 1.13, 1.73, 2.67, 2.99},
	{-2.20, -0.60, -9.73, 2.05, 1.38, 3.75, 7.14},
	{-1.93, -0.67, -6.68, 1.93, 2.23, 6.75, 7.14},
	{-1.03, 0.14, -1.98, 1.02, 1.57, 2.57, 2.59},
	{-6.52, 0.28, -6.85, 6.52, 4.79, 8.95, 10.49},
	{-2.03, 0.60, -4.51, 2.00, 3.97, 5.41, 5.61},
	{-0.29, 0.12, -0.77, 0.29, 1.60, 1.08, 1.22},
	{-1.13, 0.24, -2.64, 1.13, 2.42, 2.64, 3.07},
	{-11.96, 1.25, -9.55, 11.96, 6.19, 20.28, 19.28},
	{-1.18, 0.03, -2.56, 1.18, 1.47, 2.29, 2.79},
	{-0.70, 0.29, -1.04, 0.70, 1.09, 1.11, 1.34},
	{-2.30, -0.04, -5.49, 2.31, 3.89, 10.29, 8.45},
	{-2.49, -1.16, -9.63, 2.62, 12.55, 7.47, 11.25},
	{-18.65, 0.58, -13.24, 18.65, 13.02, 26.52, 27.96},
	{-1.91, -0.05, -4.21, 1.91, 3.39, 5.11, 5.32},
	{-1.24, 0.39, -2.86, 1.24, 3.70, 4.15, 4.07},
	{-1.32, 0.39, -2.84, 1.33, 2.67, 4.15, 3.91},
	{-0.39, 0.09, -0.94, 0.39, 1.19, 1.24, 1.28},
	{-0.90, 0.09, -1.89, 0.90, 1.48, 2.12, 2.31},
	{-1.72, -0.65, -7.81, 1.72, 3.25, 5.48, 7.13},
	{-1.29, 0.26, -2.67, 1.29, 2.25, 2.70, 3.14},
	{-0.20, 0.13, -0.92, 0.25, 1.58, 1.05, 1.24},
	{-1.07, 0.19, -1.49, 1.07, 2.00, 2.60, 2.48},
	{-1.19, 0.39, -2.86, 1.19, 2.85, 4.06, 3.86},
	{-4.86, -1.07, -11.79, 4.88, 6.52, 15.12, 14.80},
	{-7.94, 0.16, -4.19, 7.94, 4.05, 9.12, 10.54},
	{-1.29, 0.40, -2.66, 1.29, 2.24, 2.95, 3.22},
	{-3.02, -0.05, -5.30, 3.02, 5.04, 5.15, 6.55},
	{-1.18, 0.03, -2.36, 1.18, 1.42, 3.27, 3.13},
	{-1.03, 0.20, -2.03, 1.03, 1.55, 2.54, 2.60},
	{-2.26, 0.56, -3.46, 2.25, 3.59, 3.79, 4.53},
	{-2.30, -0.04, -5.49, 2.31, 3.89, 10.29, 8.45},
	{-1.19, 0.10, -2.58, 1.19, 1.49, 3.02, 3.12},
	{-5.38, -0.02, -3.45, 5.39, 4.06, 6.33, 7.56},
	{-1.03, 0.19, -1.99, 1.03, 1.82, 2.57, 2.63},
	{-0.26, 0.27, -0.93, 0.26, 1.25, 1.26, 1.23},
	{-2.89, 0.00, -2.71, 2.92, 4.03, 10.41, 7.45},
	{-1.13, 0.24, -2.66, 1.13, 1.98, 2.85, 3.10},
	{-2.90, -0.05, -5.92, 2.91, 5.57, 9.34, 8.63},
	{-2.64, -1.70, -5.21, 2.64, 1.53, 9.37, 7.92},
	{-1.42, 0.52, -3.58, 1.44, 3.40, 5.53, 4.98},
	{-1.51, -0.06, -2.71, 1.52, 3.56, 9.81, 6.69},
	{-1.13, 0.24, -2.64, 1.13, 2.25, 2.56, 3.01},
	{-2.39, -0.96, -9.76, 2.44, 5.46, 8.52, 9.98},
	{-1.03, 0.17, -1.98, 1.02, 1.60, 2.57, 2.59},
	{-1.43, 0.42, -2.85, 1.44, 3.43, 4.55, 4.24},
	{-1.31, 0.23, -2.88, 1.31, 2.21, 2.78, 3.27},
	{-1.13, 0.24, -2.70, 1.13, 1.74, 2.68, 3.01},
	{-0.43, 0.11, -0.87, 0.43, 1.41, 1.23, 1.30},
	{-0.85, 0.18, -1.69, 0.85, 2.46, 1.89, 2.29},
	{-1.68, 0.38, -3.33, 1.68, 3.09, 3.85, 4.19},
	{-1.27, 0.35, -2.63, 1.27, 2.27, 2.45, 3.00},
	{-1.12, 0.08, -2.56, 1.13, 1.48, 2.28, 2.76},
	{-1.61, 0.37, -4.11, 1.42, 4.06, 6.52, 5.83},
	{-1.38, -0.50, -6.02, 1.38, 1.24, 3.10, 4.84},
	{-4.14, 0.10, -4.53, 4.14, 2.36, 2.53, 5.55},
	{-1.13, 0.08, -2.96, 1.13, 2.42, 2.64, 3.24},
	{-0.39, 0.20, -0.91, 0.39, 1.40, 1.14, 1.25},
	{-1.38, 0.23, -2.73, 1.38, 2.01, 2.95, 3.28},
	{-31.77, 0.54, -14.60, 31.77, 13.71, 33.13, 40.28},
	{-1.27, 0.23, -2.63, 1.27, 1.94, 2.80, 3.12},
	{-1.19, -0.08, -2.15, 1.19, 2.30, 2.02, 2.68},
	{-2.48, -0.53, -4.33, 2.48, 1.83, 3.80, 4.90},
	{-0.21, 0.16, -0.98, 0.29, 1.17, 1.15, 1.20},
	{-0.25, 0.26, -0.94, 0.25, 1.23, 1.31, 1.25},
	{-1.17, 0.11, -2.57, 1.17, 1.46, 2.61, 2.92},
}

function Vehicle:GetCentroid()
	local u, v = self:GetBoundingBox()
	return lerp(u, v, 0.5)
end

function Vehicle:GetBoundingBoxRelative()
	local b = boxes[self:GetModelId()]
	return Vector3(b[1], b[2], b[3]), Vector3(b[4], b[5], b[6])
end

function Vehicle:GetRadius()
	return boxes[self:GetModelId()][7]
end

function Vehicle:GetRestitution()
	return 0.4
end

function Vehicle:GetInverseMass()
	return 1 / self:GetMass()
end

function Vehicle:GetInertia() -- approximated as a sphere
	local i = 2/5 * self:GetMass() * self:GetRadius()^2
	return Vector3(i, i, i)
end

function Vehicle:GetInverseInertia() -- approximated as a sphere
	local i = 1 / (2/5 * self:GetMass() * self:GetRadius()^2)
	return Vector3(i, i, i)
end
